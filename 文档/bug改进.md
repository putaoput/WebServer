## 1.用浏览器访问无页面显示
（已解决）

原因：请求分析程序有问题。一是读取是没有及时将后来的内容加入content中，第二是分析content内容是的状态机设计有问题。

## 2.处理并发事件时会出现read_num = 0；
表现：

用浏览器访问服务器可以正常显示网页，但是用webbench进行并发测试时，有较多的失败请求，并且服务器出现了read_num = 0错误。

分析思路：
上网搜索了该问题出现的原因：没有数据但是仍继续读取，但是明明使用了epoll_wait返回的都是有效事件，遂怀疑因为webbench默认是短连接，可能程序里忘记了判断长短连接，但是使用-k 指令进行长连接测试时，错误依旧，并且检查了源码，长连接处理完会重置，短连接则直接析构释放请求对象，没有问题。

接着又继续上网找资料，想了很久，因为浏览器访问正常，于是猜测可能是多线程部分有问题，然后用webbench测试，发现并发请求数为1时，程序正常，为2时，也正常，但是递增到4时，出现了问题，接着去检查线程池文件，发现是在将新任务加入新线程池时，忘记了加锁，导致待处理的请求队列参数混乱。加入加锁和解锁操作后，再次测试，服务器工作正常，。
